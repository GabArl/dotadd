\usepackage{fontspec}
\usepackage{xcolor}
\usepackage{tcolorbox}
\usepackage{minted}

% ------------------------------------------------------------------------- %
%                       font and element-styles setup                       %
% ------------------------------------------------------------------------- %

\newfontfamily\Inconsolata{Inconsolata}
\newfontfamily\Arial{Arial}

\setkomafont{title}{\Inconsolata\bfseries}
\setkomafont{section}{\Inconsolata\bfseries\large}

% ------------------------------------------------------------------------- %
%             codebox-style elements with syntax highlighting               %
% ------------------------------------------------------------------------- %

\newcommand{\CodeboxFColor}{black!40}

% a codebox with line numbering and a title bar
% \begin{scodebox}{<title>}{<language>} /* code */ \end{scodebox} 
\newenvironment{codebox}[2]{%
    \VerbatimEnvironment
    \begin{tcolorbox}[title=#1,colframe=\CodeboxFColor,arc=0mm,fonttitle=\Inconsolata,left*=10mm]
    \begin{minted}[linenos=true]{#2}%
}{%
    \end{minted}
    \end{tcolorbox}%
}

% a codebox without line numbering
% \begin{scodebox}{<language>} /* code */ \end{scodebox} 
\newenvironment{scodebox}[1]{%
    \VerbatimEnvironment
    \begin{tcolorbox}[colframe=\CodeboxFColor,arc=0mm,left*=5mm]
    \begin{minted}{#1}%
}{%
    \end{minted}
    \end{tcolorbox}%
}

% a codebox with line numbering and a title bar, filled with a file input
\newcommand{\fcodebox}[3]{%
    \begin{tcolorbox}[title=#3,colframe=\CodeboxFColor,arc=0mm,fonttitle=\Inconsolata,left*=10mm]
        \inputminted[linenos=true]{#1}{#2}
    \end{tcolorbox}
}

% a codebox without line numbering, filled with a file input
\newcommand{\sfcodebox}[2]{
    \begin{tcolorbox}[colframe=\CodeboxFColor,arc=0mm,left*=5mm]
        \inputminted{#1}{#2}
    \end{tcolorbox}
}
